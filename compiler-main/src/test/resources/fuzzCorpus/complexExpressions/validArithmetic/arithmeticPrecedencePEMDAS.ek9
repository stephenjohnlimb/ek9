#!ek9
<?-
  Fuzz Test: Arithmetic operator precedence (PEMDAS/BODMAS)

  Tests that mathematical operator precedence follows standard rules:
  Parentheses, Exponents, Multiplication/Division, Addition/Subtraction
-?>
defines module fuzz.arithmetic.precedence

  defines function

    <?- Test: multiplication before addition -?>
    testMulBeforeAdd()
      <- result as Integer: 2 + 3 * 4

    <?- Test: division before subtraction -?>
    testDivBeforeSub()
      <- result as Integer: 20 - 12 / 4

    <?- Test: parentheses override precedence -?>
    testParenthesesOverride()
      <- result as Integer: (2 + 3) * 4

    <?- Test: nested parentheses -?>
    testNestedParentheses()
      <- result as Integer: ((2 + 3) * (4 - 1)) + 5

    <?- Test: power before multiplication -?>
    testPowerBeforeMul()
      <- result as Float: 2.0 * 3.0 ^ 2.0

    <?- Test: left-to-right for same precedence -?>
    testLeftToRight()
      <- result as Integer: 100 / 10 / 2

    <?- Test: complex mixed precedence -?>
    testMixedPrecedence()
      <- result as Integer: 1 + 2 * 3 - 4 / 2 + 5

    <?- Test: deeply nested expression -?>
    testDeeplyNested()
      <- result as Integer: (((1 + 2) * 3) - 4) / 5 + 6

//EOF
