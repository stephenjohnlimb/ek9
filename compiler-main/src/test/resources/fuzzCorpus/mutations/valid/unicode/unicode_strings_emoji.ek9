#!ek9
<?-
  Unicode Mutation Test: Emoji in Strings
  Tests compiler handling of emoji and pictographic characters.

  Validates: Basic emoji, skin tones, gender variants, multi-byte sequences
  Identifiers remain ASCII, emoji only in string literals.

  Should compile successfully - no errors expected.
-?>
defines module fuzztest.mutation.valid.unicode.emoji

  defines function

    testBasicEmoji()
      // Common emoji
      faces <- "ðŸ˜€ðŸ˜ƒðŸ˜„ðŸ˜ðŸ˜†ðŸ˜…"
      hands <- "ðŸ‘‹ðŸ‘ðŸ‘ŽâœŒï¸ðŸ¤ðŸ‘"
      hearts <- "â¤ï¸ðŸ’™ðŸ’šðŸ’›ðŸ§¡ðŸ’œ"

      assert faces?
      assert hands?
      assert hearts?

    testEmojiWithText()
      // Emoji mixed with regular text
      greeting <- "Hello ðŸ‘‹ World ðŸŒ"
      status <- "Build successful âœ…"
      error <- "Error occurred âŒ"
      warning <- "Warning âš ï¸ Check logs"

      assert greeting?
      assert status?
      assert error?
      assert warning?

    testEmojiSkinTones()
      // Emoji with skin tone modifiers
      hand1 <- "ðŸ‘‹ðŸ»"  // Light skin tone
      hand2 <- "ðŸ‘‹ðŸ½"  // Medium skin tone
      hand3 <- "ðŸ‘‹ðŸ¿"  // Dark skin tone

      thumbs1 <- "ðŸ‘ðŸ»ðŸ‘ðŸ¼ðŸ‘ðŸ½ðŸ‘ðŸ¾ðŸ‘ðŸ¿"

      assert hand1?
      assert hand2?
      assert hand3?
      assert thumbs1?

    testEmojiGenderVariants()
      // Emoji with gender variants and ZWJ sequences
      person <- "ðŸ‘¨ðŸ‘©ðŸ§‘"
      professional <- "ðŸ‘¨â€ðŸ’»ðŸ‘©â€ðŸ’»"  // Programmer (with ZWJ)
      family <- "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"        // Family (multiple ZWJ)

      assert person?
      assert professional?
      assert family?

    testEmojiFlags()
      // Country flags (regional indicator symbols)
      flags <- "ðŸ‡ºðŸ‡¸ðŸ‡¬ðŸ‡§ðŸ‡«ðŸ‡·ðŸ‡©ðŸ‡ªðŸ‡¯ðŸ‡µðŸ‡¨ðŸ‡³"

      assert flags?

    testEmojiObjects()
      // Various object emoji
      tech <- "ðŸ’»ðŸ“±âŒšï¸ðŸ–¥ï¸âŒ¨ï¸ðŸ–±ï¸"
      food <- "ðŸ•ðŸ”ðŸŸðŸ¿ðŸ¥¤ðŸ¦"
      travel <- "âœˆï¸ðŸš—ðŸš•ðŸš™ðŸšŒðŸšŽ"
      nature <- "ðŸŒ²ðŸŒ³ðŸŒ´ðŸŒ±ðŸŒ¿ðŸ€"

      assert tech?
      assert food?
      assert travel?
      assert nature?

    testEmojiSymbols()
      // Symbols and special emoji
      arrows <- "â¬†ï¸â¬‡ï¸â¬…ï¸âž¡ï¸â†—ï¸â†˜ï¸"
      math <- "âž•âž–âœ–ï¸âž—"
      checks <- "âœ…âœ”ï¸â˜‘ï¸âŽ"
      stars <- "â­ï¸ðŸŒŸâœ¨ðŸ’«"

      assert arrows?
      assert math?
      assert checks?
      assert stars?

    testEmojiSequences()
      // Complex multi-code-point sequences
      kiss <- "ðŸ’"      // Kiss
      couple <- "ðŸ’‘"    // Couple with heart
      rainbow <- "ðŸŒˆ"   // Rainbow
      flag <- "ðŸ³ï¸â€ðŸŒˆ"    // Rainbow flag (ZWJ sequence)

      assert kiss?
      assert couple?
      assert rainbow?
      assert flag?

    testEmojiInStringOperations()
      // Test emoji work with string operations
      part1 <- "Hello ðŸ‘‹"
      part2 <- " World ðŸŒ"
      combined <- part1 + part2

      assert combined?
      assert combined == "Hello ðŸ‘‹ World ðŸŒ"

    testMixedUnicodeAndEmoji()
      // Mix regular Unicode and emoji
      mixed1 <- "JosÃ© says ðŸ‘‹ to MarÃ­a"
      mixed2 <- "ÐŸÑ€Ð¸Ð²ÐµÑ‚ ðŸ‡·ðŸ‡º Hello ðŸ‡ºðŸ‡¸ ä½ å¥½ ðŸ‡¨ðŸ‡³"
      mixed3 <- "Programming ðŸ’» is fun! ðŸ˜„"

      assert mixed1?
      assert mixed2?
      assert mixed3?

//EOF
