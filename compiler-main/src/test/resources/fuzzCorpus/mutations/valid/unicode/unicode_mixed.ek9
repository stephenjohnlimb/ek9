#!ek9
<?-
  Unicode Mutation Test: Mixed Scenarios and Edge Cases
  Tests compiler handling of complex Unicode combinations.

  Validates: Edge cases, stress tests, real-world patterns
  All identifiers remain ASCII, complex Unicode in strings/comments.

  Should compile successfully - no errors expected.
-?>
defines module fuzztest.mutation.valid.unicode.mixed

  defines function

    testRealWorldUserNames()
      // Real-world international names
      names <- ["JosÃ© GarcÃ­a", "FranÃ§ois MÃ¼ller", "Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ Ð˜Ð²Ð°Ð½Ð¾Ð²",
                "æŽæ˜Ž", "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ", "×©×¨×” ×›×”×Ÿ", "Ã…se Ã˜stergÃ¥rd"]

      assert names?

    testRealWorldEmails()
      // Email-like patterns with Unicode in display names
      email1 <- "JosÃ© GarcÃ­a <jose@example.com>"
      email2 <- "FranÃ§ois MÃ¼ller <francois@example.com>"
      email3 <- "æŽæ˜Ž <liming@example.com>"

      assert email1?
      assert email2?
      assert email3?

    testRealWorldAddresses()
      // International address formats
      address1 <- "123 StraÃŸe, MÃ¼nchen, Deutschland"
      address2 <- "åŒ—äº¬å¸‚æœé˜³åŒº"
      address3 <- "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ±"

      assert address1?
      assert address2?
      assert address3?

    testMultilineUnicode()
      // Unicode with newline escapes
      poem <- "Roses are red ðŸŒ¹\nViolets are blue ðŸ’™\nUnicode works âœ¨\nIn EK9 too ðŸŽ‰"

      assert poem?

    testEscapeSequencesWithUnicode()
      // Mix escape sequences and Unicode
      mixed <- "Line 1: Hello\nLine 2: ä½ å¥½\nLine 3: Ù…Ø±Ø­Ø¨Ø§"

      assert mixed?

    testUnicodeInAssertions()
      // Unicode in comparison operations
      name1 <- "JosÃ©"
      name2 <- "JosÃ©"

      assert name1 == name2

      emoji1 <- "ðŸ‘‹"
      emoji2 <- "ðŸ‘‹"

      assert emoji1 == emoji2

    testUnicodeStringLength()
      // Test length calculations with Unicode
      ascii_str <- "hello"      // 5 ASCII characters
      unicode_str <- "ä½ å¥½"      // 2 CJK characters
      emoji_str <- "ðŸ‘‹ðŸŒ"        // 2 emoji (may be multiple code points each)

      assert ascii_str?
      assert unicode_str?
      assert emoji_str?

    testUnicodeInListsAndCollections()
      // Unicode in collection types
      multi_language_list <- ["Hello", "Hola", "ÐŸÑ€Ð¸Ð²ÐµÑ‚", "ä½ å¥½", "Ù…Ø±Ø­Ø¨Ø§"]
      emoji_list <- ["ðŸ˜€", "ðŸ˜ƒ", "ðŸ˜„", "ðŸ˜", "ðŸ˜†"]

      assert multi_language_list?
      assert emoji_list?

    testComplexUnicodeMixing()
      // Extremely mixed content
      complex <- "User: JosÃ© ðŸ‘¤ | Status: Ù†Ø´Ø· âœ… | Score: ðŸ’¯ | Location: æ±äº¬ ðŸ—¼"

      assert complex?

    testUnicodeEdgeCasesInStrings()
      // Various edge cases
      only_spaces <- "   "
      only_emoji <- "ðŸ˜€ðŸ˜ƒðŸ˜„"
      only_arabic <- "Ù…Ø±Ø­Ø¨Ø§"
      only_hebrew <- "×©×œ×•×"
      only_chinese <- "ä½ å¥½"

      assert only_spaces?
      assert only_emoji?
      assert only_arabic?
      assert only_hebrew?
      assert only_chinese?

    testUnicodeWithSpecialCharacters()
      // Unicode mixed with special programming characters
      json_like <- "{\"name\": \"JosÃ©\", \"greeting\": \"ðŸ‘‹\"}"
      xml_like <- "<user name=\"FranÃ§ois\" emoji=\"ðŸ˜Š\"/>"
      path_like <- "/home/ç”¨æˆ·/documents/æ–‡ä»¶.txt"

      assert json_like?
      assert xml_like?
      assert path_like?

    testLongUnicodeStrings()
      // Stress test with long Unicode strings
      long_mixed <- "Hello " + "Ù…Ø±Ø­Ø¨Ø§ " + "ä½ å¥½ " + "ã“ã‚“ã«ã¡ã¯ " + "ì•ˆë…•í•˜ì„¸ìš” " +
      "×©×œ×•× " + "ÐŸÑ€Ð¸Ð²ÐµÑ‚ " + "Bonjour " + "Hola " + "Ciao " +
      "ðŸ˜€ðŸ˜ƒðŸ˜„ðŸ˜ðŸ˜†ðŸ˜…ðŸ˜‚ðŸ¤£ðŸ˜ŠðŸ˜‡"

      assert long_mixed?

    testUnicodeInInterpolation()
      // Test Unicode in string interpolation contexts
      name <- "JosÃ©"
      greeting <- `Hello ${name}! ðŸ‘‹`

      assert greeting?

    testReservedWordsWithUnicodeSuffix()
      // ASCII reserved words with Unicode in separate strings
      if_result <- "if: Î±Î»Î·Î¸Î¹Î½ÏŒÏ‚"     // 'true' in Greek
      while_result <- "while: Ð¿Ð¾ÐºÐ°"   // 'while' in Russian
      for_result <- "for: ä¸º"         // 'for' in Chinese

      assert if_result?
      assert while_result?
      assert for_result?

    testUnicodeInProgramLogic()
      // Practical use: Localized messages
      language <- "es"

      message <- switch language
        <- rtn as String: String()
        case == "en"
          rtn: "Hello World! ðŸ‘‹"
        case == "es"
          rtn: "Â¡Hola Mundo! ðŸ‘‹"
        case == "ru"
          rtn: "ÐŸÑ€Ð¸Ð²ÐµÑ‚ Ð¼Ð¸Ñ€! ðŸ‘‹"
        case == "zh"
          rtn: "ä½ å¥½ä¸–ç•Œï¼ ðŸ‘‹"
        case == "ar"
          rtn: "Ù…Ø±Ø­Ø¨Ø§ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…! ðŸ‘‹"
        default
          rtn: "Hello! ðŸ‘‹"

      assert message?
      assert message == "Â¡Hola Mundo! ðŸ‘‹"

//EOF
