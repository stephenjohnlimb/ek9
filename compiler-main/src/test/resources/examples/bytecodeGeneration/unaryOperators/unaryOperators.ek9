#!ek9
defines module bytecode.test

  defines program

    @BYTECODE: CODE_GENERATION_AGGREGATES: TYPE: "bytecode.test::UnaryOperators": `public class bytecode.test.UnaryOperators {
  static {};
    Code:
         0: return

  private void i_init();
    Code:
         0: return

  public bytecode.test.UnaryOperators();
    Code:
         0: aload_0
         1: invokespecial #CP                 // Method java/lang/Object."<init>":()V
         4: aload_0
         5: invokevirtual #CP                 // Method i_init:()V
         8: return

  public void _main();
    Code:
         0: aconst_null
         1: astore_1
         2: new           #CP                 // class org/ek9/lang/Stdout
         5: dup
         6: invokespecial #CP                 // Method org/ek9/lang/Stdout."<init>":()V
         9: astore_2
        10: aload_2
        11: astore_1
        12: aconst_null
        13: astore_3
        14: iconst_5
        15: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        18: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        21: astore        4
        23: aload         4
        25: astore_3
        26: aconst_null
        27: astore        5
        29: ldc           #CP                 // String Hello
        31: invokestatic  #CP                 // Method org/ek9/lang/String._of:(Ljava/lang/String;)Lorg/ek9/lang/String;
        34: astore        6
        36: aload         6
        38: astore        5
        40: aconst_null
        41: astore        7
        43: aload_3
        44: astore        8
        46: aload         8
        48: invokevirtual #CP                 // Method org/ek9/lang/Integer._empty:()Lorg/ek9/lang/Boolean;
        51: astore        9
        53: aload         9
        55: astore        7
        57: aload_1
        58: astore        10
        60: aload         7
        62: astore        11
        64: aload         10
        66: aload         11
        68: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
        73: aconst_null
        74: astore        12
        76: aload         5
        78: astore        13
        80: aload         13
        82: invokevirtual #CP                 // Method org/ek9/lang/String._len:()Lorg/ek9/lang/Integer;
        85: astore        14
        87: aload         14
        89: astore        12
        91: aload_1
        92: astore        15
        94: aload         12
        96: astore        16
        98: aload         15
       100: aload         16
       102: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       107: aconst_null
       108: astore        17
       110: aload_3
       111: astore        18
       113: aload         18
       115: invokevirtual #CP                 // Method org/ek9/lang/Integer._inc:()Lorg/ek9/lang/Integer;
       118: astore        19
       120: aload         19
       122: astore        17
       124: aload_1
       125: astore        20
       127: aload         17
       129: astore        21
       131: aload         20
       133: aload         21
       135: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       140: aload_1
       141: astore        22
       143: aload_3
       144: astore        23
       146: aload         22
       148: aload         23
       150: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       155: aconst_null
       156: astore        24
       158: aload_3
       159: astore        25
       161: aload         25
       163: invokevirtual #CP                 // Method org/ek9/lang/Integer._dec:()Lorg/ek9/lang/Integer;
       166: astore        26
       168: aload         26
       170: astore        24
       172: aload_1
       173: astore        27
       175: aload         24
       177: astore        28
       179: aload         27
       181: aload         28
       183: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       188: aload_1
       189: astore        29
       191: aload_3
       192: astore        30
       194: aload         29
       196: aload         30
       198: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       203: return
}`

    UnaryOperators()
      stdout <- Stdout()
      intVal <- 5
      strVal <- "Hello"

      // Test empty operator (is empty)
      empty1 <- intVal is empty
      stdout.println(empty1)

      // Test length operator
      len1 <- length strVal
      stdout.println(len1)

      // Test increment operator (++)
      inc1 <- intVal++
      stdout.println(inc1)
      stdout.println(intVal)  // Should be 6 after increment

      // Test decrement operator (--)
      dec1 <- intVal--
      stdout.println(dec1)
      stdout.println(intVal)  // Should be 5 after decrement

//EOF
