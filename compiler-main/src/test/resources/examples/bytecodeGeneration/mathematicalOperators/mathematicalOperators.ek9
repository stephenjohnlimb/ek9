#!ek9
defines module bytecode.test

  defines program

    @BYTECODE: CODE_GENERATION_AGGREGATES: TYPE: "bytecode.test::MathematicalOperators": `public class bytecode.test.MathematicalOperators {
  static {};
    Code:
         0: return

  private void i_init();
    Code:
         0: return

  public bytecode.test.MathematicalOperators();
    Code:
         0: aload_0
         1: invokespecial #CP                 // Method java/lang/Object."<init>":()V
         4: aload_0
         5: invokevirtual #CP                 // Method i_init:()V
         8: return

  public void _main();
    Code:
         0: aconst_null
         1: astore_1
         2: new           #CP                 // class org/ek9/lang/Stdout
         5: dup
         6: invokespecial #CP                 // Method org/ek9/lang/Stdout."<init>":()V
         9: astore_2
        10: aload_2
        11: astore_1
        12: aconst_null
        13: astore_3
        14: bipush        7
        16: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        19: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        22: astore        4
        24: aload         4
        26: astore_3
        27: aconst_null
        28: astore        5
        30: iconst_3
        31: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        34: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        37: astore        6
        39: aload         6
        41: astore        5
        43: aconst_null
        44: astore        7
        46: iconst_2
        47: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        50: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        53: astore        8
        55: aload         8
        57: astore        7
        59: aconst_null
        60: astore        9
        62: iconst_5
        63: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        66: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        69: astore        10
        71: aload         10
        73: astore        9
        75: aconst_null
        76: astore        11
        78: bipush        -10
        80: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
        83: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
        86: astore        12
        88: aload         12
        90: astore        11
        92: aconst_null
        93: astore        13
        95: aload_3
        96: astore        14
        98: aload         5
       100: astore        15
       102: aload         14
       104: aload         15
       106: invokevirtual #CP                 // Method org/ek9/lang/Integer._mod:(Lorg/ek9/lang/Integer;)Lorg/ek9/lang/Integer;
       109: astore        16
       111: aload         16
       113: astore        13
       115: aload_1
       116: astore        17
       118: aload         13
       120: astore        18
       122: aload         17
       124: aload         18
       126: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       131: aconst_null
       132: astore        19
       134: aload_3
       135: astore        20
       137: aload         5
       139: astore        21
       141: aload         20
       143: aload         21
       145: invokevirtual #CP                 // Method org/ek9/lang/Integer._rem:(Lorg/ek9/lang/Integer;)Lorg/ek9/lang/Integer;
       148: astore        22
       150: aload         22
       152: astore        19
       154: aload_1
       155: astore        23
       157: aload         19
       159: astore        24
       161: aload         23
       163: aload         24
       165: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       170: aconst_null
       171: astore        25
       173: aload         7
       175: astore        26
       177: aload         5
       179: astore        27
       181: aload         26
       183: aload         27
       185: invokevirtual #CP                 // Method org/ek9/lang/Integer._pow:(Lorg/ek9/lang/Integer;)Lorg/ek9/lang/Float;
       188: astore        28
       190: aload         28
       192: astore        25
       194: aload_1
       195: astore        29
       197: aload         25
       199: astore        30
       201: aload         29
       203: aload         30
       205: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       210: aconst_null
       211: astore        31
       213: aload         11
       215: astore        32
       217: aload         32
       219: invokevirtual #CP                 // Method org/ek9/lang/Integer._abs:()Lorg/ek9/lang/Integer;
       222: astore        33
       224: aload         33
       226: astore        31
       228: aload_1
       229: astore        34
       231: aload         31
       233: astore        35
       235: aload         34
       237: aload         35
       239: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       244: aconst_null
       245: astore        36
       247: bipush        16
       249: invokestatic  #CP                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
       252: invokestatic  #CP                 // Method org/ek9/lang/Integer._of:(Ljava/lang/String;)Lorg/ek9/lang/Integer;
       255: astore        37
       257: aload         37
       259: invokevirtual #CP                 // Method org/ek9/lang/Integer._sqrt:()Lorg/ek9/lang/Float;
       262: astore        38
       264: aload         38
       266: astore        36
       268: aload_1
       269: astore        39
       271: aload         36
       273: astore        40
       275: aload         39
       277: aload         40
       279: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       284: aconst_null
       285: astore        41
       287: aload         9
       289: astore        42
       291: aload         42
       293: invokevirtual #CP                 // Method org/ek9/lang/Integer._fac:()Lorg/ek9/lang/Integer;
       296: astore        43
       298: aload         43
       300: astore        41
       302: aload_1
       303: astore        44
       305: aload         41
       307: astore        45
       309: aload         44
       311: aload         45
       313: invokeinterface #CP,  2           // InterfaceMethod org/ek9/lang/StringOutput.println:(Lorg/ek9/lang/Any;)V
       318: return
}`

    MathematicalOperators()
      stdout <- Stdout()
      a <- 7
      b <- 3
      c <- 2
      d <- 5
      neg <- -10

      // Test modulo (mod)
      mod1 <- a mod b    // 1 (7 % 3)
      stdout.println(mod1)

      // Test remainder (rem)
      rem1 <- a rem b    // 1 (same as mod for positive)
      stdout.println(rem1)

      // Test power (^)
      pow1 <- c ^ b      // 8 (2^3)
      stdout.println(pow1)

      // Test absolute (abs)
      abs1 <- abs neg    // 10
      stdout.println(abs1)

      // Test square root (sqrt) - returns Float
      sqrt1 <- sqrt 16   // 4.0
      stdout.println(sqrt1)

      // Test factorial (!)
      fact1 <- d!        // 120 (5!)
      stdout.println(fact1)

//EOF
