#!ek9
<?-
  Bytecode test for synthetic _string ($) operator generation.
  Tests that the default operator $ generates correct bytecode
  that produces a string representation of the class.

  This test validates:
  - Synthetic _string operator is generated from 'default operator $'
  - Generated bytecode correctly formats output as "ClassName(field1=value1, field2=value2)"
  - Both set and unset fields are handled correctly
-?>
defines module bytecode.test

  defines class

    Product
      name <- "Widget"
      price <- 100

      default operator $

  defines program

    SyntheticToString()
      stdout <- Stdout()

      p <- Product()
      stdout.println($p)

//EOF
