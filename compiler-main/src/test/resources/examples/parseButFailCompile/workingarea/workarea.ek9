#!ek9
<?-
  Test IR generation for do-while loop with guard.
  Pattern: do guard <- expression() { body } while condition

  Key characteristics:
  - Guard evaluates ONCE before loop starts
  - Body executes FIRST (at least once), accessing guard variable
  - Condition checked AFTER body
  - Guard variable scoped to entire loop
-?>
defines module loops.doWhileGuard

  defines function

    getValue()
      <- rtn as Integer?
      rtn: 5

    simpleDoWhileWithGuard()
      counter <- 0

      do value <- getValue()
        counter := counter + 1
      while value > counter

      assert counter?

//EOF
