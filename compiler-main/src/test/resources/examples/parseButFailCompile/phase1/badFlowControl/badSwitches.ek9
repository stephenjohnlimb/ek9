#!ek9
<?-
  Now try switches with various new defects.
-?>
defines module bad.switches

  defines function

    <?-
      Because both guard and conditional are optional
      it is possible to write and have this parse via the grammar
      But it is not logical or meaningful.
      So we need a rule to detect this and emit an error.
    -?>
    brokenSwitchStatement()
      r <- 0

      @Error: SYMBOL_DEFINITION: PRE_FLOW_OR_CONTROL_REQUIRED
      switch
        case > 1
          r += 6
        default
          t += 10
      assert v?

//EOF