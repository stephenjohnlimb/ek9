#!ek9
<?-
  Now try 'if' with various new defects.
-?>
defines module bad.ifs

  defines function

    value()
      <- rtn <- 1

    <?-
      Because both guard and conditional are optional
      it is possible to write and have this parse via the grammar
      But it is not logical or meaningful.
      So we need a rul to detect this and emit an error.
    -?>
    brokenIfStatement()
      v <- value()

      @Error: SYMBOL_DEFINITION: PRE_FLOW_OR_CONTROL_REQUIRED
      if
        v += 6
        assert v?

//EOF