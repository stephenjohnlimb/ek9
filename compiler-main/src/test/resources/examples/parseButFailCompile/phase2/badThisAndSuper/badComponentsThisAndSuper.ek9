#!ek9
defines module bad.components.thisandsuper

  defines component

    Component1 as abstract
      value <- "Steve"

      method1()
        //This should be a valid use of this.
        this.value :=: "Stephen"

        //For now add this deliberate error in then I can work on call and method resolution.
        //TODO remove this deliberate error and more to FULL_RESOLUTION.
        @Error: EXPLICIT_TYPE_SYMBOL_DEFINITION: TYPE_NOT_RESOLVED
        var as NonSuch?

      methodY() as abstract

    Component2 extends Component1
      override method1()
        //just call method1() on the suer this is valid
        super.method1()

    InvalidComponent1
      method1()
        super.method1()

  defines application
    App1
      val <- "Name"
      //Now allowed for self reference, so that this application could pass itself to something
      thisApp as App1: this

  defines program
    Prog1()
      @Error: FULL_RESOLUTION: NOT_REFERENCED
      val <- "Name"
      //Now allowed for self reference
      thisProg as Prog1: this

      assert thisProg?

//EOF
