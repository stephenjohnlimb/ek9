#!ek9
<?-
  Test IR generation for simple throw statement.
  Throw variable form: throw exceptionVariable
  Tests that exception variable is thrown with proper ownership transfer.
-?>
defines module exceptionHandling

  defines function

    @IR: IR_GENERATION: FUNCTION: "exceptionHandling::simpleThrow": `
    ConstructDfn: exceptionHandling::simpleThrow()->org.ek9.lang::Void
OperationDfn: exceptionHandling::simpleThrow._call()->org.ek9.lang::Void  // ./simpleThrow.ek9:38:5
BasicBlock: _entry_1
SCOPE_ENTER _scope_1  // ./simpleThrow.ek9:39:7
REFERENCE ex, org.ek9.lang::Exception  // ./simpleThrow.ek9:39:7
_temp2 = LOAD_LITERAL Test exception, org.ek9.lang::String  // ./simpleThrow.ek9:39:23
_temp1 = CALL (org.ek9.lang::Exception)org.ek9.lang::Exception.<init>(_temp2) [pure=true, complexity=1, effects=RETURN_MUTATION]  // ./simpleThrow.ek9:39:13
RETAIN _temp1  // ./simpleThrow.ek9:39:13
SCOPE_REGISTER _temp1, _scope_1  // ./simpleThrow.ek9:39:13
STORE ex, _temp1  // ./simpleThrow.ek9:39:13
RETAIN ex  // ./simpleThrow.ek9:39:13
SCOPE_REGISTER ex, _scope_1  // ./simpleThrow.ek9:39:13
RETAIN ex  // ./simpleThrow.ek9:40:7
THROW ex  // ./simpleThrow.ek9:40:7
SCOPE_EXIT _scope_1  // ./simpleThrow.ek9:39:7
RETURN  // ./simpleThrow.ek9:38:5
OperationDfn: exceptionHandling::simpleThrow.c_init()->org.ek9.lang::Void  
BasicBlock: _entry_1
RETURN
OperationDfn: exceptionHandling::simpleThrow.i_init()->org.ek9.lang::Void  
BasicBlock: _entry_1
RETURN
OperationDfn: exceptionHandling::simpleThrow.simpleThrow()->exceptionHandling::simpleThrow  // ./simpleThrow.ek9:38:5
BasicBlock: _entry_1
CALL (exceptionHandling::simpleThrow)this.i_init() [pure=false, complexity=0]  // ./simpleThrow.ek9:38:5
RETURN this  // ./simpleThrow.ek9:38:5`
    simpleThrow()
      ex <- Exception("Test exception")
      throw ex

//EOF
